<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments.html :: head"></head>
<body class="bg-light">
    <div th:replace="fragments.html :: main-nav"></div>
    <div id="main-title" class="py-5 text-center">
        <h2>꿈 등록</h2>
    </div>
    <div class="row justify-content-center">
        <form class="needs-validation col-sm-6" action="#"
              th:action="@{/api/dreams}" th:object="${postForm}" method="post" novalidate>
            <div class="form-group">
                <label for="username">작성자</label>
                <input id="username" type="text" th:field="*{username}" class="form-control"
                       placeholder="홍길동" aria-describedby="usernameHelp" required minlength="3" maxlength="20">
                <small id="usernameHelp" class="form-text text-muted">
                    공백없이 문자와 숫자로만 3자 이상 20자 이내로 입력하세요.
                </small>
                <small class="invalid-feedback">작성자를 입력하세요.</small>
                <small class="form-text text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">username Error</small>
            </div>

            <div class="form-group">
                <label for="title">꿈 명</label>
                <input id="title" type="text" th:field="*{title}" class="form-control"
                       placeholder="좋은 꿈을 꾸었다" aria-describedby="titleHelp" required minlength="3" maxlength="20">
                <small id="titleHelp" class="form-text text-muted">3자이상 20자이내로 입력해주세요</small>
                <small class="invalid-feedback">꿈 명을 입력하세요.</small>
                <small class="form-text text-danger" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">title Error</small>
            </div>

            <div class="form-group">
                <label for="contents">꿈 내용</label>
                <textarea id="contents" th:field="*{contents}" class="form-control"
                          aria-describedby="contentsHelp" required minlength="30" maxlength="200" rows="5"></textarea>
                <small id="contentsHelp" class="form-text text-muted">
                    30자 이상 200자 이내로 입력하세요.
                </small>
                <small class="invalid-feedback">꿈 내용을 입력하세요.</small>
                <small class="form-text text-danger" th:if="${#fields.hasErrors('contents')}" th:errors="*{contents}">contents Error</small>
            </div>
            <div class="form-group">
                <button class="btn btn-primary btn-block" type="submit"
                        aria-describedby="submitHelp">글 등록</button>
                <small id="submitHelp" class="form-text text-muted">
                    글을 등록 후 메인페이지로 이동합니다.
                </small>
            </div>
        </form>
    </div>
    <div th:replace="fragments.html :: footer"></div>
    <script th:replace="fragments.html :: form-validation"></script>
</body>
</html>